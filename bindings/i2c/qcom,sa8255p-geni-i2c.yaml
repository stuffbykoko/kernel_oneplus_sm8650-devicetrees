%YAML 1.2
---
$id: http://devicetree.org/schemas/i2c/qcom,sa8255p-geni-i2c.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Qualcomm SA8255p QUP GENI I2C Controller

maintainers:
  - Andy Gross <agross@kernel.org>
  - Bjorn Andersson <bjorn.andersson@linaro.org>

properties:
  compatible:
    const: qcom,sa8255p-geni-i2c

  dmas:
    maxItems: 2

  dma-names:
    items:
      - const: tx
      - const: rx

  interrupts:
    maxItems: 1

  power-domains:
    minItems: 2
    maxItems: 2
    description: power-domains must be <2>, that are power and perf domains
      1st param - scmi protocol domain handler
      2nd param - serial engine index

      Power Domain - The power protocol manages the power states of devices,
      turning them on or off such as clocks, ICC paths and TLMM(GPIO) using the
      PM runtime framework.

      Performance Domain - The performance protocol sets UART communication
      speeds by selecting different performance levels through the OPP framework.

      Supported perf levels for frequencies in firmware are below
      +---------------------+-----------------+
      |  Perf level value   |  frequency(KHZ) |
      +---------------------+-----------------+
      |      100            |      100        |
      |      400            |      400        |
      |      1000           |      1000       |
      +---------------------+-----------------+

  power-domain-names:
    items:
      - const: power
      - const: perf

  reg:
    maxItems: 1

required:
  - compatible
  - interrupts
  - reg
  - power-domains

allOf:
  - $ref: /schemas/i2c/i2c-controller.yaml#

unevaluatedProperties: false

examples:
  - |
    #include <dt-bindings/interrupt-controller/arm-gic.h>

    i2c@a90000 {
        compatible = "qcom,sa8255p-geni-i2c";
        reg = <0xa90000 0x4000>;
        interrupts = <GIC_SPI 357 IRQ_TYPE_LEVEL_HIGH>;
        power-domains = <&scmi9_pd 11>, <&scmi9_dvfs 11>;
        power-domain-names = "power", "perf";
    };
...
